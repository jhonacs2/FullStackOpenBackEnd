{"version":3,"sources":["components/Filter.js","components/Notification.js","services/contacts.js","components/PersonForm.js","components/Numbers.js","components/Persons.js","App.js","index.js"],"names":["Filter","filterName","setFilterName","value","onChange","e","target","Notification","notification","console","log","alertStyle","backgroundColor","padding","fontSize","border","includes","style","baseUrl","newContact","axios","post","then","response","data","get","id","delete","put","PersonForm","setnewName","newName","number","setNumber","setPersons","persons","setNotification","onSubmit","preventDefault","name","toString","conditionalName","map","person","filter","contact","window","confirm","changueContact","contactService","returnContact","catch","error","alert","concat","setTimeout","type","Numbers","deletePerson","onClick","Person","index","find","n","r","App","useState","useEffect","allContacts","filterToShow","toLowerCase","Persons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.08b2b534.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filterName, setFilterName }) => {\n  const filterInput = (e) => {\n    setFilterName(e.target.value);\n  };\n  return (\n    <>\n      Filter Shown with: <input value={filterName} onChange={filterInput} />\n    </>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nexport default function Notification({ notification }) {\n  console.log(notification)\n  const alertStyle = {\n    backgroundColor: \"green\",\n    padding: \"1rem\",\n    fontSize: \"16px\",\n    border: \"greenyellow\",\n  };\n  if (notification === null) {\n    return null;\n  }\n  const alert = notification.includes('delete') || \n                notification.includes('error') || \n                notification.includes('ValidationError')  \n  if(alert){\n    alertStyle.backgroundColor = \"red\"\n  }\n\n  return (\n    <div style={alertStyle}>\n      <p>{notification}</p>\n    </div>\n  );\n}\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAllContacts = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newContact) => {\n  const request = axios.post(baseUrl, newContact);\n  return request.then((response) => response.data);\n};\n\nconst updateContact = (id, newContact) => {\n  const request = axios.put(`${baseUrl}/${id}`, newContact);\n  return request.then((response) => response.data);\n};\n\nconst deleteContact = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response);\n};\n\nexport default {\n  create,\n  getAllContacts,\n  deleteContact,\n  updateContact\n};\n","import React from \"react\";\nimport contactService from \"../services/contacts\";\n\nconst PersonForm = ({\n  setnewName,\n  newName,\n  number,\n  setNumber,\n  setPersons,\n  persons,\n  setNotification,\n}) => {\n  const handleNameChange = (e) => {\n    setnewName(e.target.value);\n  };\n  const handleNumberChange = (e) => {\n    setNumber(e.target.value);\n  };\n\n  const addNumber = (e) => {\n    e.preventDefault();\n    const newContact = {\n      name: newName,\n      number: number.toString(),\n    };\n    const sameName = persons.map((person) => person.name);\n    const conditionalName = sameName.includes(newName);\n    const [contact] = persons.filter((person) => person.name === newName);\n    if (conditionalName) {\n      const changueTF = window.confirm(\n        `User is already added to phonebook, do you want replace it`\n      );\n      if (changueTF) {\n        const changueContact = { ...contact, number: number};\n        contactService\n          .updateContact(contact.id, changueContact)\n          .then((returnContact) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === contact.id ? returnContact : person\n              )\n            );\n          })\n          .catch(error => {\n            const alert = error.response.data\n        setNotification(`${alert.error}`);\n          });\n      }\n    } else {\n      contactService\n      .create(newContact)\n      .then((contact) => {\n        setPersons(persons.concat(contact));\n        setnewName(\"\");\n        setNumber(0);\n        setNotification(`${newContact.name} was added to phonebook`);\n      })\n      .catch(error => {\n        const alert = error.response.data\n        setNotification(`${alert.error}`);\n      })\n      ;\n      \n\n      setTimeout(() => {\n        setNotification(null);\n      }, 4000);\n    }\n  };\n  return (\n    <form onSubmit={addNumber}>\n      <div>\n        Name: <input value={newName} onChange={handleNameChange} />\n        <br />\n        Number:{\" \"}\n        <input value={number} onChange={handleNumberChange} type=\"text\" />\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react'\n\nconst Numbers = ({ person, deletePerson }) => {\n    \n    return(\n        <>\n        <p>{person.name} {person.number} <button onClick={deletePerson}>Delete</button></p>\n        \n        </>\n        \n    )\n}\n\nexport default Numbers","import React from \"react\";\nimport Numbers from \"./Numbers\";\nimport contactService from \"../services/contacts\";\nconst Person = ({ persons, setPersons, setNotification }) => {\n  const deletePerson = (id) => {\n    const { name } = persons.find((n) => n.id === id);\n    const result = window.confirm(`delete ${name}`);\n    if (result) {\n      contactService\n        .deleteContact(id)\n        .then((r) =>{\n          setPersons(persons.filter((person) => person.id !== id && person))\n          setNotification(`${name} delete`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n        }\n  \n          \n          \n        )\n        .catch((error) => {\n          setNotification(`${name} was already delete from server`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n          setPersons(persons.filter(person => person.id !== id)  )\n        });\n      // setPersons(persons.filter((person) => person.id !== id && person ));\n    }\n  };\n\n  return (\n    <>\n      {persons.map((person, index) => {\n        return (\n          <Numbers\n            key={index}\n            person={person}\n            deletePerson={() => deletePerson(person.id)}\n          />\n        );\n      })}\n    </>\n  );\n};\n\nexport default Person;\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport contactService from \"./services/contacts\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setnewName] = useState(\"\");\n  const [number, setNumber] = useState(0);\n  const [filterName, setFilterName] = useState(\"\");\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    contactService\n      .getAllContacts()\n      .then((allContacts) => setPersons(allContacts));\n  }, []);\n\n \n  const filterToShow =\n    filterName === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filterName.toLowerCase())\n        );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <br />\n      <Filter filterName={filterName} setFilterName={setFilterName} />\n      {/* Filter Shown with: <input value={filterName}  onChange = {filterInput} /> */}\n      <Notification notification = {notification} />\n      <h3>Add a new</h3>\n      <PersonForm\n        setnewName={setnewName}\n        newName={newName}\n        number={number}\n        setNumber={setNumber}\n        setPersons={setPersons}\n        persons={persons}\n        setNotification={setNotification}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={filterToShow} setPersons={setPersons} setNotification={setNotification}/>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}